/******************************************************************************
 ******************************************************************************
 **                                                                          **
 **                          ファイルヘッダー                                  **
 **                          File: morse.ino                                 **
 **                                                                          **
 ******************************************************************************
 ******************************************************************************/

/******************************************************************************
 *                                                                            *
 *                              ライブラリ読み込み                             *
 *                                                                            *
 ******************************************************************************/
#include <Arduino_FreeRTOS.h>

#include "src/constants/constant.h"
#include "src/utils/log/log.h"

/******************************************************************************
 *                                                                            *
 *                              初期化関数                                     *
 *                                                                            *
 ******************************************************************************/
void setup() {
  /*----------------------------------------------------------------------------*
   *                          ログシステム初期化                                *
   *----------------------------------------------------------------------------*/
  const global_err_t logInitialized = logInit();
  if (logInitialized != GLOBAL_OK) {
    return;
  }

  /*----------------------------------------------------------------------------*
   *                          ログレベル設定                                    *
   *----------------------------------------------------------------------------*/
  logSetLevel(LOG_DEBUG);

  /*----------------------------------------------------------------------------*
   *                          スケジューラ起動                                  *
   *----------------------------------------------------------------------------*/
  vTaskStartScheduler();

  /*............................................................................*
   *                          ここには到達しない                               *
   *............................................................................*/
  for (;;) {
    ;
  }
}

/******************************************************************************
 *                                                                            *
 *                              メインループ                                   *
 *                                                                            *
 ******************************************************************************/
void loop() {
  /*----------------------------------------------------------------------------*
   *                          FreeRTOSが制御するため未使用                      *
   *----------------------------------------------------------------------------*/
}
