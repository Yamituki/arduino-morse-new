/******************************************************************************
 ******************************************************************************
 **                                                                          **
 **                          ファイルヘッダー                                  **
 **                          File: i_io_t.h                                  **
 **                                                                          **
 ******************************************************************************
 ******************************************************************************/

#ifndef I_IO_T_H
#define I_IO_T_H

/******************************************************************************
 *                                                                            *
 *                              ライブラリ読み込み                             *
 *                                                                            *
 ******************************************************************************/
#include "../../constants/constant.h"

/******************************************************************************
 *                                                                            *
 *                              入力デバイス型定義                             *
 *                                                                            *
 ******************************************************************************/

/*============================================================================*
 *                            入力タグ列挙型                                   *
 *============================================================================*/
typedef enum {
  ST_SW = 0,
} input_tag_t;

/*============================================================================*
 *                            入力操作関数ポインタ型                           *
 *============================================================================*/
typedef struct {
  global_err_t (*init)(void* ctx);
  global_err_t (*get)(void* ctx, void* out);
  global_err_t (*poll)(void* ctx);
} input_device_ops_t;

/*============================================================================*
 *                            入力デバイス構造体                               *
 *============================================================================*/
typedef struct {
  const input_tag_t tag;
  const void* ctx;
  const input_device_ops_t* ops;
} input_device_t;

/******************************************************************************
 *                                                                            *
 *                              出力デバイス型定義                             *
 *                                                                            *
 ******************************************************************************/

/*============================================================================*
 *                            出力タグ列挙型                                   *
 *============================================================================*/
typedef enum {
  LED_MORSE = 0,
  LED_STATUS = 1,
} output_tag_t;

/*============================================================================*
 *                            出力操作関数ポインタ型                           *
 *============================================================================*/
typedef struct {
  global_err_t (*init)(void* ctx);
  global_err_t (*set)(void* ctx, bool value);
} output_device_ops_t;

/*============================================================================*
 *                            出力デバイス構造体                               *
 *============================================================================*/
typedef struct {
  const output_tag_t tag;
  void* ctx;
  const output_device_ops_t* ops;
} output_device_t;

#endif  // I_IO_T_H